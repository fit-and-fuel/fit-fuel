@model Nutritionist

@{
    Layout = "~/Views/Shared/_PageLayout.cshtml";
}

<link href="~/css/NutDetails.css" rel="stylesheet">

<div style="background-color:#141414 ;height:80px;margin-top:-10px;width:2000px;">
</div>

<section style="padding:70px;">
    <div class="container py-2">


        <article style="background-color:#f9f9f9;" class="postcard light green">
            <a class="postcard__img_link" href="#">
                @if(Model.imgURl != null){
                    <img class="postcard__img" src="@Model.imgURl" alt="Image Title" />

                }
                else
                {
                    <img class="postcard__img" src="~/img/noimage.jpg" alt="Image Title" />

                }
            </a>
            <div class="postcard__text t-dark">
                <h1 style="margin-left:8px;" class="postcard__title green"><a href="#">About @Model.Name</a></h1>
                <div class="postcard__subtitle small">
                    <ul style="list-style:none; font-size:18px;">
                        <li><strong> Gender </strong><span>@Model.Gender</span></li>
                        <li><strong> Age </strong><span>@Model.Age</span></li>
                        <li><strong> Phone Number </strong><span>@Model.PhoneNumber</span></li>
                        <li><a style="text-decoration:underline; color:#D6FD51;" href="@Model.CvURl">Download CV</a></li>
                      



                    </ul>
                    @{
                        if (Model.AverageRating.HasValue)
                        {
                            int fullStars = (int)Model.AverageRating.Value;
                            int halfStar = (int)((Model.AverageRating.Value - fullStars) * 2);

                            for (int i = 0; i < fullStars; i++)
                            {
                                <i class="fa-sharp fa-solid fa-star text-orange" style="color:orange"></i>
                            }

                            if (halfStar == 1)
                            {
                                <i class="fa-solid fa-star-half-stroke text-orange" style="color:orange"></i>
                            }
                            else if (halfStar == 2)
                            {
                                <i class="fa-sharp fa-solid fa-star text-orange" style="color:orange"></i>
                            }

                        }
                        else
                        {
                            <p>No rating available</p>
                        }
                    }

                </div>
                <div class="postcard__bar"></div>
                <div class="postcard__preview-txt">
                    @* @if (Model.healthRecord != null)
                    {*@
                    <h1 class="postcard__title green"><a href="#">Available Times</a></h1>
                    <table class="table table-hover">

                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Num</th>
                                <th scope="col">Day</th>
                                <th scope="col">Time</th>
                                <th scope="col">Choose</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var rowNumber = 1;
                            }
                            @foreach (var at in Model.AvaliableTimes)
                            {
                                <tr>
                                    <th scope="row">@rowNumber</th>
                                    <td>@at.DayOfWeek</td>
                                    <td>@at.Time</td>
                                    <td>
                                        <form asp-controller="Nutritionist" asp-action="SelectAppoitment" method="post">
                                            <input name="id" value="@at.Id" type="hidden">
                                            <button style="color:#79dd09; text-decoration:underline;" class=" btn btn-outline-success" type="submit">Select</button>
                                        </form>
                                    </td>
                                </tr>
                                rowNumber++;
                            }
                        </tbody>

                    </table>
                


                </div>
              


            </div>
        </article>

    </div>
</section>




